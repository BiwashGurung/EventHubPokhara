<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details - EventHubPokhara</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .navbar {
            background-color: #343a40;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .navbar-brand {
            font-weight: bold;
            color: #ffffff;
        }

        .navbar-brand:hover {
            color: #e9ecef;
        }

        .nav-link {
            color: #ffffff;
            font-size: 1rem;
            padding: 0.75rem 1rem;
        }

        .nav-link:hover {
            color: #e9ecef;
        }

        .nav-item.active .nav-link {
            color: #007bff;
            font-weight: bold;
        }

        .event-details {
            margin-top: 50px;
        }

        .carousel-item img {
            max-height: 400px;
            object-fit: cover;
        }

        footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 2rem 0;
            margin-top: 50px;
        }

        footer p {
            margin-bottom: 0;
        }

        footer a {
            color: #ffffff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">EventHubPokhara</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="events.html">Events</a></li>
                    <li class="nav-item mr-5"><a class="nav-link" href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container event-details mt-5">
        <div class="row">
            <div class="col-md-8">
                <h2 id="eventTitle"></h2>
                <p>Date: <span id="eventDate"></span> | Location: <span id="eventLocation"></span></p>
                <p>Price: NPR <span id="eventPrice"></span></p>
                <div id="eventGallery" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <!-- Carousel items dynamically added here -->
                    </div>
                    <a class="carousel-control-prev" href="#eventGallery" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#eventGallery" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <h3 class="mt-4">Event Details</h3>
                <p id="eventDescription"></p>
            </div>
            <div class="col-md-4">
                <h3>Book Tickets</h3>
                <form id="bookingForm" action="booking-confirmation.html" method="GET">
                    <div class="form-group">
                        <label for="ticketQuantity">Number of Tickets</label>
                        <input type="number" class="form-control" id="ticketQuantity" name="ticketQuantity" min="1" value="1" required>
                    </div>
                    <div class="form-group">
                        <label for="totalPrice">Total Price (NPR)</label>
                        <input type="text" class="form-control" id="totalPrice" name="totalPrice" value="0.00" readonly>
                    </div>
                    <button type="submit" class="btn btn-success">Book Now</button>
                    <!-- Hidden fields to pass event details -->
                    <input type="hidden" id="eventTitleInput" name="eventTitle">
                    <input type="hidden" id="eventDateInput" name="eventDate">
                </form>
            </div>
        </div>
    </div>

    <footer>
        <div class="container text-center">
            <p>&copy; 2024 EventHubPokhara. All Rights Reserved.</p>
            <p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const eventTitle = urlParams.get('title');
            const eventDate = urlParams.get('date');
            const eventLocation = urlParams.get('location');
            const eventPrice = getPriceForEvent(eventTitle); // Assuming a function to get price based on event

            document.getElementById('eventTitle').textContent = eventTitle;
            document.getElementById('eventDate').textContent = eventDate;
            document.getElementById('eventLocation').textContent = eventLocation;
            document.getElementById('eventTitleInput').value = eventTitle;
            document.getElementById('eventDateInput').value = eventDate;
            document.getElementById('eventPrice').textContent = eventPrice.toLocaleString('en-NP'); // Formatting price as NPR

            switch (eventTitle) {
                case 'Concert XYZ':
                    document.getElementById('eventDescription').textContent = 'Join us for an electrifying night with Concert XYZ. Enjoy live performances by top artists and experience an unforgettable musical journey. Get ready to dance and sing along to your favorite tunes!';
                    break;
                case 'Theater ABC':
                    document.getElementById('eventDescription').textContent = 'Theater ABC presents a captivating play that explores deep human emotions and relationships. Witness stunning performances by renowned actors and be immersed in a world of drama and intrigue.';
                    break;
                case 'Workshop 123':
                    document.getElementById('eventDescription').textContent = 'Enhance your skills at Workshop 123. Led by industry experts, this workshop offers hands-on training and valuable insights. Whether you are a beginner or a professional, there\'s something for everyone.';
                    break;
                case 'Live Music Festival':
                    document.getElementById('eventDescription').textContent = 'Experience the thrill of live music at the Live Music Festival. Featuring a lineup of diverse artists, this festival promises a day of fun, excitement, and amazing performances. Bring your friends and enjoy the music!';
                    break;
                case 'Drama Night':
                    document.getElementById('eventDescription').textContent = 'Drama Night showcases a powerful performance that delves into compelling narratives and striking characters. This event is a must-see for theater enthusiasts and anyone who appreciates great storytelling.';
                    break;
                case 'Creative Arts Workshop':
                    document.getElementById('eventDescription').textContent = 'Unleash your creativity at the Creative Arts Workshop. This workshop offers a variety of art forms, from painting to sculpture, and provides a space for artists to explore and develop their artistic talents.';
                    break;
                case 'Rock Concert':
                    document.getElementById('eventDescription').textContent = 'Get ready to rock at the Rock Concert! Featuring high-energy performances by top rock bands, this concert is a haven for rock music lovers. Come and enjoy a night filled with powerful music and great vibes.';
                    break;
                case 'Art Exhibition 2024':
                    document.getElementById('eventDescription').textContent = 'Art Exhibition 2024 showcases stunning artworks by local and international artists. Explore a diverse collection of paintings, sculptures, and installations, and be inspired by the creativity on display.';
                    break;
                case 'Tech Summit 2024':
                    document.getElementById('eventDescription').textContent = 'Tech Summit 2024 brings together leading minds in technology to discuss the latest trends and innovations. Attend insightful sessions, network with industry professionals, and discover new opportunities in the tech world.';
                    break;
                default:
                    document.getElementById('eventDescription').textContent = 'Join us for an exciting event that promises to be both entertaining and informative. Stay tuned for more details.';
                    break;
            }

            // Populate carousel images dynamically based on event title
            switch (eventTitle) {
                case 'Concert XYZ':
                    populateCarousel(['https://via.placeholder.com/800x600/0000FF/808080?text=Concert+XYZ']);
                    break;
                case 'Theater ABC':
                    populateCarousel(['https://via.placeholder.com/800x600/FF0000/FFFFFF?text=Theater+ABC']);
                    break;
                case 'Workshop 123':
                    populateCarousel(['https://via.placeholder.com/800x600/00FF00/000000?text=Workshop+123']);
                    break;
                case 'Live Music Festival':
                    populateCarousel(['https://via.placeholder.com/800x600/FFFF00/000000?text=Live+Music+Festival']);
                    break;
                case 'Drama Night':
                    populateCarousel(['https://via.placeholder.com/800x600/FF00FF/FFFFFF?text=Drama+Night']);
                    break;
                case 'Creative Arts Workshop':
                    populateCarousel(['https://via.placeholder.com/800x600/00FFFF/000000?text=Creative+Arts+Workshop']);
                    break;
                case 'Rock Concert':
                    populateCarousel(['https://via.placeholder.com/800x600/FFA500/FFFFFF?text=Rock+Concert']);
                    break;
                case 'Art Exhibition 2024':
                    populateCarousel(['https://via.placeholder.com/800x600/800080/FFFFFF?text=Art+Exhibition+2024']);
                    break;
                case 'Tech Summit 2024':
                    populateCarousel(['https://via.placeholder.com/800x600/008000/FFFFFF?text=Tech+Summit+2024']);
                    break;
                default:
                    populateCarousel([]);
                    break;
            }

            // Initial total price calculation
            calculateTotalPrice();

            // Recalculate total price when the number of tickets changes
            document.getElementById('ticketQuantity').addEventListener('input', calculateTotalPrice);
        });

        function getPriceForEvent(eventTitle) {
            switch (eventTitle) {
                case 'Concert XYZ':
                    return 500;
                case 'Theater ABC':
                    return 300;
                case 'Workshop 123':
                    return 700;
                case 'Live Music Festival':
                    return 1200;
                case 'Drama Night':
                    return 800;
                case 'Creative Arts Workshop':
                    return 600;
                case 'Rock Concert':
                    return 1000;
                case 'Art Exhibition 2024':
                    return 1500;
                case 'Tech Summit 2024':
                    return 2000;
                default:
                    return 0;
            }
        }

        function calculateTotalPrice() {
            const ticketQuantity = document.getElementById('ticketQuantity').value;
            const eventPrice = document.getElementById('eventPrice').textContent.replace(/,/g, '');
            const totalPrice = ticketQuantity * eventPrice;
            document.getElementById('totalPrice').value = totalPrice.toLocaleString('en-NP', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }

        function populateCarousel(imageUrls) {
            const carouselInner = document.querySelector('.carousel-inner');
            carouselInner.innerHTML = '';

            if (imageUrls.length === 0) {
                const defaultImage = document.createElement('div');
                defaultImage.classList.add('carousel-item', 'active');
                defaultImage.innerHTML = '<img src="https://via.placeholder.com/800x600" class="d-block w-100" alt="Default Image">';
                carouselInner.appendChild(defaultImage);
            } else {
                imageUrls.forEach((url, index) => {
                    const carouselItem = document.createElement('div');
                    carouselItem.classList.add('carousel-item');
                    if (index === 0) carouselItem.classList.add('active');
                    carouselItem.innerHTML = `<img src="${url}" class="d-block w-100" alt="Event Image ${index + 1}">`;
                    carouselInner.appendChild(carouselItem);
                });
            }
        }
    </script>
</body>
</html>
